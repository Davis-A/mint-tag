#!/usr/bin/env perl
use v5.20;
use lib 'lib';
use Buildotron;

use Buildotron::Logger '$Logger' => { init => {
  ident     => 'buildotron',
  facility  => 'news',
  to_stdout => 1,
} };

use Getopt::Long::Descriptive;

my ($opt, $usage) = describe_options(
  '%c %o',
  [ 'config|c=s', 'config file to use', { required => 1 } ],
  [ 'help|h',     'show help and exit', { shortcircuit => 1 } ],
);

print($usage->text), exit if $opt->help;

Buildotron->from_config_file($opt->config)->build();
